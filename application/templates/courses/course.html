{% extends "layout.html" %}

{% block body %}
<div class="grid-x">
  <div class="cell small-6">
  {% if is_teacher %}
  <a class="link__big link__teacher" href="{{ url_for('courses_edit', course_id=course.id) }}"><i class="fas fa-edit"></i></a>
  {% endif %}
  <h1 class="h2">{{ course.course_id }} {{ course.title }}</h1>
  <div>
    <div class="h4">Description:</div>
    <p>{{ course.description }}</p>
  </div>
  <div>Workload of the course is approximately {{ course.duration }} hours.</div>
  <div>The course ends {{ course.deadline | datetimeformat }}.</div>

  {% if is_student %}
  <br>
  {% if course in mycourses %}
  <td><a class="link__big link__student" href="{{ url_for('course_enroll', course_id=course.id) }}">Unenroll</a></td>
  {% else %}
  <td><a class="link__big link__student" href="{{ url_for('course_enroll', course_id=course.id) }}">Enroll</a></td>
  {% endif %}
  {% endif %}
  {% if is_teacher %}
  <form method="POST" action="{{ url_for('courses_delete', course_id=course.id) }}">
    <button class="alert button" type="submit">Delete</button>
  </form>
  {% endif %}
  </div>
  <div class="cell small-6">
    {% if is_teacher %}
    <div class="h4">Enrolled students ({{ length }}):</div>
    <div>
      {% for student in students %}
      <a href="{{ url_for('logs_course_user', course_id=course.id, user_id=student.id) }}"><div>{{ student.firstname }} {{ student.lastname }}</div></a>
      {% endfor %}
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
